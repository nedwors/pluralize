# Pluralize

[![Latest Version on Packagist](https://img.shields.io/packagist/v/nedwors/pluralize.svg?style=flat-square)](https://packagist.org/packages/nedwors/pluralize)
[![Build Status](https://img.shields.io/travis/nedwors/pluralize/master.svg?style=flat-square)](https://travis-ci.org/nedwors/pluralize)
[![Quality Score](https://img.shields.io/scrutinizer/g/nedwors/pluralize.svg?style=flat-square)](https://scrutinizer-ci.com/g/nedwors/pluralize)
[![Total Downloads](https://img.shields.io/packagist/dt/nedwors/pluralize.svg?style=flat-square)](https://packagist.org/packages/nedwors/pluralize)

A Laravel package that provides null-safe, meaningful pluralization of strings. 

Often, it's desired to not only show a current count, but some description of the count too. Plus, you need to allow for when the count is `null`.

> The stuff of nightmares...
>
> `Call to a member function count() on null`

So, let's see it in action. From this:

```php
@if($pizzas)

{{ $pizzas->count() }} {{ Str::plural('Pizza') }}

@else

-

@endif

// 2 Pizzas
// -
```

To this:

```php
{{ pluralize('Pizza', $pizzas) }}

// 2 Pizzas
// -
```

Although made with the Blade templating engine in mind, it can be used anywhere in your application.

## TOC

- [Installation](#installation)
    * [Setup](#setup)
- [Introduction](#introduction)
    * [Core Principles](#core-principles)
    * [Helper vs Class](#helper-vs-class)
- [Features/API](#features)
    * [Pluralize](*pluralize)
    * [This](#this)
    * [From](#from)
    * [As](#as)
    * [Or](#or)

## Installation

You can install the package via composer

```bash
composer require nedwors/pluralize
```
### Setup
Minimal, if any, setup is required. The package is ready to work out of the box with sensible defaults. 

The defaults are shown below. The 1st comment represents the returned string when `$pizzas` has a count of 10; the 2nd represents when `$pizzas` is null:

```php
pluralize('Pizza', $pizzas)

// 10 Pizzas
// -
```
However you are free to [configure](#configuration) these defaults, and fine tune the system further.

## Introduction

### Core Principles
There are two strings that can be generated by Pluralize. These are the Output and the Fallback.

#### Output
The Output is the desired string to display successful pluralization. As stated in [Setup](#setup), the default Output is in the format `n Items`, with `n` the count, and `Items` the pluralized string.

#### Fallback
The Fallback is the desired string to display in the case there is no count. As stated in [Setup](#setup), the default Fallback is `-`.

Both the Output and Fallback can be declared either at time of usage or ahead of time. See [`as()`](#as) for Output and [`or()`](#or) for Fallback. See [configuration](#configuration) for declaring ahead of time.

### Helper vs Class
This documentation's examples are based on the helper function `pluralize()`. However, the underlying class can be used just the same for every feature. For instance, the following are equivalent:

```php
pluralize('Dog', $dogs, '...')

Pluralize::this('Dog')->from($dogs)->or('...')
```

## Features

The default outputs of the package are:


```php
pluralize('Pizza', $pizzas)

// When $pizzas = null, '-'
// When $pizzas = 10, '10 Pizzas'
```

Supports `null` fallbacks:

```php
pluralize('Pizza', $pizzas)
    ->or('Oops, pizzas not found')

// When $pizzas = null, 'Oops, pizzas not found'
```

```php
pluralize('Pizza', $pizzas)
    ->over(0)
    ->as(fn($plural, $count) => "You have $count $plural")
    ->or('Oops, you have no pizzas')

// When $pizzas = null, 'Oops, you have no pizzas'
// When $pizzas->count() = 1, 'You have 1 pizza'
// When $pizzas->count() = 2, 'You have 2 pizzas'
```

```php
pluralize('Pizza', $pizzas)
    ->as(fn($plural, $count) => "There is|are $count $plural")

// When $pizzas->count() = 1, 'There is 1 pizza'
// When $pizzas->count() = 2, 'There are 2 pizzas'
```

## Usage

``` php
// Usage description here
```

### Testing

``` bash
composer test
```

### Changelog

Please see [CHANGELOG](CHANGELOG.md) for more information what has changed recently.

## Contributing

Please see [CONTRIBUTING](CONTRIBUTING.md) for details.

### Security

If you discover any security related issues, please email nedwors@gmail.com instead of using the issue tracker.

## Credits

- [Sam Rowden](https://github.com/nedwors)
- [All Contributors](../../contributors)

## License

The MIT License (MIT). Please see [License File](LICENSE.md) for more information.

## Laravel Package Boilerplate

This package was generated using the [Laravel Package Boilerplate](https://laravelpackageboilerplate.com).
